function addTask() {
  const task = document.getElementById("taskInput").value;
  const time = document.getElementById("timeInput").value;
  const section = document.getElementById("sectionSelect").value;
  if (!task || !time) { alert("Please enter task and time"); return; }

  const li = document.createElement("li");
  li.textContent = task + " at " + time + " ";
  const delBtn = document.createElement("button");
  delBtn.textContent = "Delete";
  delBtn.onclick = () => li.remove();
  li.appendChild(delBtn);
  document.getElementById(section).appendChild(li);

  // ✅ Reminder with interval that stops after alert
  const interval = setInterval(() => {
    const now = new Date();
    const currentTime = now.toTimeString().slice(0,5);
    if (currentTime === time && soundEnabled) {
      const alarm = document.getElementById("alarmSound");
      alarm.play();
      alert("⏰ Reminder: " + task + " (" + section + ")");
      alarm.pause();
      alarm.currentTime = 0;

      clearInterval(interval); // ✅ stop this interval after alarm
    }
  }, 1000);
}
