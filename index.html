<!DOCTYPE html>
<html>
<head>
  <title>AI Personal Assistant</title>
  <style>
    body { font-family: Arial; text-align: center; background: #f2f2f2; padding: 20px; }
    input, button, select { padding: 10px; margin: 5px; border-radius: 5px; }
    ul { list-style: none; padding-left: 0; }
    li { margin: 5px 0; }
    .section-title { color: #333; font-weight: bold; margin-top: 20px; }
    /* popup style */
    .popup {
      position: fixed;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff;
      border: 2px solid #333;
      padding: 20px;
      z-index: 1000;
      text-align: center;
      box-shadow: 0px 0px 10px #000;
    }
    .popup button { margin: 5px; padding: 10px 15px; border-radius: 5px; cursor: pointer; }
  </style>
</head>
<body>

<h1>ü§ñ AI Personal Assistant</h1>
<p>Manage tasks, reminders, and voice commands</p>

<select id="sectionSelect">
  <option value="Study">Study</option>
  <option value="Workout">Workout</option>
  <option value="Personal">Personal</option>
</select>

<input id="taskInput" placeholder="Enter task">
<input id="timeInput" type="time">
<br>
<button onclick="enableSound()">Enable Sound üîä</button>
<button onclick="addTask()">Add Task</button>
<button onclick="startVoice()">üé§ Voice Command</button>

<h2 class="section-title">Study Section</h2>
<ul id="Study"></ul>
<h2 class="section-title">Workout Section</h2>
<ul id="Workout"></ul>
<h2 class="section-title">Personal Section</h2>
<ul id="Personal"></ul>

<audio id="alarmSound" src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg"></audio>

<script>
let soundEnabled = false;

function enableSound() {
  soundEnabled = true;
  alert("Sound Enabled! Now add a task.");
}

// ‚úÖ Add task with Stop/Snooze popup
function addTask(taskInput, timeInput, sectionInput) {
  const task = taskInput || document.getElementById("taskInput").value;
  const time = timeInput || document.getElementById("timeInput").value;
  const section = sectionInput || document.getElementById("sectionSelect").value;

  if (!task || !time) { alert("Please enter task and time"); return; }

  // Add task to list
  const li = document.createElement("li");
  li.textContent = task + " at " + time + " ";
  const delBtn = document.createElement("button");
  delBtn.textContent = "Delete";
  delBtn.onclick = () => li.remove();
  li.appendChild(delBtn);
  document.getElementById(section).appendChild(li);

  // Alarm logic
  let alarmPlayed = false;
  const interval = setInterval(() => {
    const now = new Date();
    const currentTime = now.toTimeString().slice(0,5);

    if (currentTime === time && soundEnabled && !alarmPlayed) {
      alarmPlayed = true;

      const alarm = document.getElementById("alarmSound");
      alarm.loop = true;
      alarm.play();

      // Popup
      const popup = document.createElement("div");
      popup.className = "popup";
      popup.innerHTML = `
        ‚è∞ Reminder: ${task} (${section}) <br><br>
        <
