function handleCommand(cmd) {
  cmd = cmd.toLowerCase();

  // Greeting
  if (cmd.includes("hello") || cmd.includes("hi")) {
    alert("Hello! I am your assistant ðŸ¤–");
    return;
  }

  // Show total tasks
  if (cmd.includes("tasks today") || cmd.includes("my tasks")) {
    const total =
      document.getElementById("Study").children.length +
      document.getElementById("Workout").children.length +
      document.getElementById("Personal").children.length;
    alert("You have " + total + " tasks today");
    return;
  }

  // Show tasks in a section
  if (cmd.includes("show")) {
    if (cmd.includes("study")) showTasks("Study");
    else if (cmd.includes("workout")) showTasks("Workout");
    else if (cmd.includes("personal")) showTasks("Personal");
    return;
  }

  // Add task
  if (cmd.includes("add") || cmd.includes("remind") || cmd.includes("set")) {
    let section = "Personal"; // default

    if (cmd.includes("study")) section = "Study";
    if (cmd.includes("workout")) section = "Workout";
    if (cmd.includes("personal")) section = "Personal";

    // Try to extract time (HH:MM)
    const timeMatch = cmd.match(/(\d{1,2}[:.]\d{2})/);
    let time = timeMatch ? timeMatch[1].replace(".", ":") : prompt("Enter time for task (HH:MM)");

    // Try to extract task description
    let task = "";
    if (cmd.includes("task")) {
      task = cmd.split("task")[1].split("at")[0].trim();
    } else if (cmd.includes("remind me to")) {
      task = cmd.split("remind me to")[1].split("at")[0].trim();
    } else {
      task = prompt("Enter task name:");
    }

    addTask(task, time, section);
    return;
  }

  alert("Command not recognized ðŸ¤”");
}

// Helper to show tasks in a section
function showTasks(section) {
  const ul = document.getElementById(section);
  const count = ul.children.length;
  let msg = section + " tasks (" + count + "):\n";

  for (let i = 0; i < count; i++) {
    msg += "- " + ul.children[i].textContent.replace("Delete", "").trim() + "\n";
  }

  alert(msg);
}
